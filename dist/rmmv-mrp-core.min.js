!function e(t,n,r){function a(u,i){if(!n[u]){if(!t[u]){var c="function"==typeof require&&require;if(!i&&c)return c(u,!0);if(o)return o(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var s=n[u]={exports:{}};t[u][0].call(s.exports,function(e){var n=t[u][1][e];return a(n?n:e)},s,s.exports,e,t,n,r)}return n[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)a(r[u]);return a}({1:[function(e,t,n){"use strict";var r,a,o,u,i,c,l,s=e("d"),f=e("es5-ext/object/valid-callable"),p=Function.prototype.apply,v=Function.prototype.call,g=Object.create,m=Object.defineProperty,d=Object.defineProperties,y=Object.prototype.hasOwnProperty,h={configurable:!0,enumerable:!1,writable:!0};r=function(e,t){var n;return f(t),y.call(this,"__ee__")?n=this.__ee__:(n=h.value=g(null),m(this,"__ee__",h),h.value=null),n[e]?"object"==typeof n[e]?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},a=function(e,t){var n,a;return f(t),a=this,r.call(this,e,n=function(){o.call(a,e,n),p.call(t,this,arguments)}),n.__eeOnceListener__=t,this},o=function(e,t){var n,r,a,o;if(f(t),!y.call(this,"__ee__"))return this;if(n=this.__ee__,!n[e])return this;if(r=n[e],"object"==typeof r)for(o=0;a=r[o];++o)(a===t||a.__eeOnceListener__===t)&&(2===r.length?n[e]=r[o?0:1]:r.splice(o,1));else(r===t||r.__eeOnceListener__===t)&&delete n[e];return this},u=function(e){var t,n,r,a,o;if(y.call(this,"__ee__")&&(a=this.__ee__[e]))if("object"==typeof a){for(n=arguments.length,o=new Array(n-1),t=1;n>t;++t)o[t-1]=arguments[t];for(a=a.slice(),t=0;r=a[t];++t)p.call(r,this,o)}else switch(arguments.length){case 1:v.call(a,this);break;case 2:v.call(a,this,arguments[1]);break;case 3:v.call(a,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,o=new Array(n-1),t=1;n>t;++t)o[t-1]=arguments[t];p.call(a,this,o)}},i={on:r,once:a,off:o,emit:u},c={on:s(r),once:s(a),off:s(o),emit:s(u)},l=d({},c),t.exports=n=function(e){return null==e?g(l):d(Object(e),c)},n.methods=i},{d:2,"es5-ext/object/valid-callable":11}],2:[function(e,t,n){"use strict";var r,a=e("es5-ext/object/assign"),o=e("es5-ext/object/normalize-options"),u=e("es5-ext/object/is-callable"),i=e("es5-ext/string/#/contains");r=t.exports=function(e,t){var n,r,u,c,l;return arguments.length<2||"string"!=typeof e?(c=t,t=e,e=null):c=arguments[2],null==e?(n=u=!0,r=!1):(n=i.call(e,"c"),r=i.call(e,"e"),u=i.call(e,"w")),l={value:t,configurable:n,enumerable:r,writable:u},c?a(o(c),l):l},r.gs=function(e,t,n){var r,c,l,s;return"string"!=typeof e?(l=n,n=t,t=e,e=null):l=arguments[3],null==t?t=void 0:u(t)?null==n?n=void 0:u(n)||(l=n,n=void 0):(l=t,t=n=void 0),null==e?(r=!0,c=!1):(r=i.call(e,"c"),c=i.call(e,"e")),s={get:t,set:n,configurable:r,enumerable:c},l?a(o(l),s):s}},{"es5-ext/object/assign":3,"es5-ext/object/is-callable":6,"es5-ext/object/normalize-options":10,"es5-ext/string/#/contains":13}],3:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?Object.assign:e("./shim")},{"./is-implemented":4,"./shim":5}],4:[function(e,t,n){"use strict";t.exports=function(){var e,t=Object.assign;return"function"!=typeof t?!1:(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},{}],5:[function(e,t,n){"use strict";var r=e("../keys"),a=e("../valid-value"),o=Math.max;t.exports=function(e,t){var n,u,i,c=o(arguments.length,2);for(e=Object(a(e)),i=function(r){try{e[r]=t[r]}catch(a){n||(n=a)}},u=1;c>u;++u)t=arguments[u],r(t).forEach(i);if(void 0!==n)throw n;return e}},{"../keys":7,"../valid-value":12}],6:[function(e,t,n){"use strict";t.exports=function(e){return"function"==typeof e}},{}],7:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?Object.keys:e("./shim")},{"./is-implemented":8,"./shim":9}],8:[function(e,t,n){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},{}],9:[function(e,t,n){"use strict";var r=Object.keys;t.exports=function(e){return r(null==e?e:Object(e))}},{}],10:[function(e,t,n){"use strict";var r=Array.prototype.forEach,a=Object.create,o=function(e,t){var n;for(n in e)t[n]=e[n]};t.exports=function(e){var t=a(null);return r.call(arguments,function(e){null!=e&&o(Object(e),t)}),t}},{}],11:[function(e,t,n){"use strict";t.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},{}],12:[function(e,t,n){"use strict";t.exports=function(e){if(null==e)throw new TypeError("Cannot use null or undefined");return e}},{}],13:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?String.prototype.contains:e("./shim")},{"./is-implemented":14,"./shim":15}],14:[function(e,t,n){"use strict";var r="razdwatrzy";t.exports=function(){return"function"!=typeof r.contains?!1:r.contains("dwa")===!0&&r.contains("foo")===!1}},{}],15:[function(e,t,n){"use strict";var r=String.prototype.indexOf;t.exports=function(e){return r.call(this,e,arguments[1])>-1}},{}],16:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}var a=e("./module/index"),o=r(a);window.MRP=o},{"./module/index":18}],17:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var a=e("event-emitter"),o=r(a),u=(0,o["default"])({}),i=Game_Troop.prototype.onBattleEnd;Game_Troop.prototype.onBattleEnd=function(){u.emit("battle.end"),i.call(this)};var c=Game_Troop.prototype.onBattleStart;Game_Troop.prototype.onBattleStart=function(){u.emit("battle.start"),c.call(this)};var l=BattleManager.endTurn.bind(BattleManager);BattleManager.endTurn=function(){l(),u.emit("turn.end")};var s=BattleManager.startTurn.bind(BattleManager);BattleManager.startTurn=function(){s(),u.emit("turn.start")},n["default"]=u},{"event-emitter":1}],18:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0}),n.OptionParser=n.BattleObserver=void 0;var o=e("./battle-observer"),u=a(o),i=e("./option-parser"),c=r(i);n.BattleObserver=u["default"],n.OptionParser=c},{"./battle-observer":17,"./option-parser":19}],19:[function(e,t,n){"use strict";function r(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":"undefined"==typeof e?"undefined":r(e)}function u(e){for(var t,n,r,a={args:[]};t=i(e);){var u=t,c=_(u,2);if(n=c[0],r=c[1],"object"===("undefined"==typeof n?"undefined":o(n))){a=b({},a,n);var l=r.ofType("COMMA"),s=r.ofType("KEY")&&r.advance().ofType("KEYVALSEP");if(l)e=r.advance();else{if(!s)return[a,r];e=r}}else{if(a=b({},a,{args:a.args.concat(n)}),r.empty||"COMMA"!=r.get().type)return[a,r];e=r.advance()}}return[a,e]}function i(e){return c(e)||l(e)}function c(e){if(e.length<3)return null;if(!e.ofType("KEY")||!e.advance().ofType("KEYVALSEP"))return null;var t=l(e.advance(2));return t?[a({},e.get().token,t[0]),e.advance(3)]:null}function l(e){if(e.empty)return null;var t=e.get();switch(t.type){case"NUMBER":return[Number(t.token),e.advance()];case"BARESTRING":case"KEY":return[t.token,e.advance()];case"BOOLEAN":return["true"===t.token.toLowerCase()?!0:!1,e.advance()];default:return null}}function s(e){if(e.length<3)return null;if(!e.ofType("BRA"))return null;var t=u(e.advance());if(!t)return null;var n=_(t,2),r=n[0],a=n[1];return a.ofType("KET")?[r,a.advance()]:null}function f(e){if(e.length<3)return null;var t=e.advance();if(!e.ofType("BRA")||!t.ofType("IDENTIFIER"))return null;var n=u(e.advance(2));if(!n)return null;var r=_(n,2),a=r[0],o=r[1];return o.ofType("KET")?[b({},a,{type:t.get().token}),o.advance()]:null}function p(e){return s(e)||f(e)}function v(e){var t=p(e);return t?t[0]:null}function g(e){return v((0,x.TokenStream)(R(e)))}function m(e){for(var t=(0,x.TokenStream)(R(e)),n=[];t.present;){var r=p(t);r?(n.push(r[0]),t=r[1]):t=t.advance()}return n}function d(e){return function(t){for(var n=(0,x.TokenStream)(R(t));n.present;){var r=p(n);if(r&&e(r[0]))return r[0];n=n.advance()}return null}}function y(e,t){return d(function(e){return e.type===t})(e)}function h(e,t){return m(e).filter(function(e){return e.type===t})}var b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_=function(){function e(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(c){a=!0,o=c}finally{try{!r&&i["return"]&&i["return"]()}finally{if(a)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(n,"__esModule",{value:!0}),n.extractFirst=void 0,n.parse=g,n.extractAll=m,n.extractFirstOfType=y,n.extractAllOfType=h;var x=e("./lexer-utils"),O=(0,x.regex)("BRA",/</),w=(0,x.regex)("KET",/>/),T=(0,x.skip)((0,x.regex)("WHITESPACE",/\s+/)),k=(0,x.regex)("IDENTIFIER",/[a-zA-Z_][a-zA-Z0-9-_]*/),j=(0,x.regex)("KEY",/[a-zA-Z_][a-zA-Z0-9-_]*/),E=(0,x.regex)("KEYVALSEP",/:/),A=((0,x.seq)(j,(0,x.optional)(T),E),(0,x.regex)("SIGNIFICANT_WHITESPACE",/\s+/)),S=(0,x.regex)("BAREWORD",/[^,:><"\s]+/),B=(0,x.concat)("BARESTRING",(0,x.seq)(S,(0,x.repeat)((0,x.notFollowedBy)((0,x.seq)(A,S),(0,x.seq)((0,x.optional)(T),E))))),M=(0,x.regex)("COMMA",/,/),C=(0,x.regex)("NUMBER",/-?[0-9]+(\.[0-9]+)?/),P=(0,x.regex)("BOOLEAN",/(true|false)/,"i"),N=(0,x.map)(JSON.parse,(0,x.regex)("BARESTRING",/"([^"]|\\")*"/)),R=(0,x.Lexer)((0,x.or)(T,O,w,M,(0,x.seq)(j,(0,x.optional)(T),E),(0,x.seq)((0,x.precededByToken)("BRA"),(0,x.optional)(T),(0,x.notFollowedBy)(k,M)),E,C,P,N,B));n.extractFirst=d(function(){return!0})},{"./lexer-utils":20}],20:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t,n){return{type:e,token:t,pos:n}}function o(e,t){return{tokens:e,newCharacterStream:t}}function u(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return{buffer:e,pos:t,length:e.length-t,present:t<e.length,empty:t>=e.length,rest:function(){return e.slice(t)},get:function(){return e[t]},advance:function(){var n=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return u(e,t+n)},take:function(n){return e.slice(t,t+n)}}}function i(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return x({},u(e,t),{advance:function(){var n=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return i(e,t+n)},flush:function(){return i(e,e.length)},Token:function(e,n){return a(e,n,t)}})}function c(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return x({},u(e,t),{advance:function(){var n=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return c(e,t+n)},ofType:function(n){return t<e.length&&e[t].type===n}})}function l(e,t){var n=arguments.length<=2||void 0===arguments[2]?"":arguments[2],r=new RegExp(/^/.source+t.source,n);return function(t,n){var a;return(a=n.rest().match(r))?o([n.Token(e,a[0])],n.advance(a[0].length)):null}}function s(e){return function(t,n){var r;return(r=e(t,n))?o([],r.newCharacterStream):null}}function f(e){return function(t,n){var r;return(r=e(t,n))?o([],r.newCharacterStream):o([],n)}}function p(e,t){return function(n,a){var u=e(n,a);if(!u)return null;var i=t([].concat(r(n),r(u.tokens)),u.newCharacterStream);return i?o([].concat(r(u.tokens),r(i.tokens)),i.newCharacterStream):null}}function v(e,t,n){var r=p(e,t);if(n){for(var a=arguments.length,o=Array(a>3?a-3:0),u=3;a>u;u++)o[u-3]=arguments[u];return v.apply(void 0,[r,n].concat(o))}return r}function g(e){return function(t,n){var r=t[t.length-1];return r&&r.type==e?o([],n):null}}function m(e,t){return function(n,r){var u;if(u=t(n,r)){var i=u.tokens.map(function(t){var n=t.type,r=t.token,o=t.pos;return a(n,e(r),o)});return o(i,u.newCharacterStream)}return null}}function d(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e,n){for(var r,a=0;a<t.length;a++)if(r=t[a](e,n))return r;return null}}function y(e){return function(t,n){for(var a=[],u=0;n.present;){var i=e(a,n);if(!i)break;if(a=[].concat(r(a),r(i.tokens)),i.newCharacterStream.pos===n.pos)return o(a,i.newCharacterStream);if(u++>1e4)throw"tried to lex more than 10,000 tokens - this is probably a bug.";n=i.newCharacterStream}return o(a,n)}}function h(e,t){return function(n,r){var a=t(n,r);if(a){var u=a.tokens.map(function(e){return e.token}).join("");return o([r.Token(e,u)],a.newCharacterStream)}return null}}function b(e,t){return function(n,a){var o=e(n,a);if(!o)return null;var u=t([].concat(r(n),r(o.tokens)),o.newCharacterStream);return u?null:o}}function _(e){return function(t){var n=i(t),r=y(d(e,l("UNKNOWN",/[^]*/)));return r([],n).tokens}}var x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Object.defineProperty(n,"__esModule",{value:!0}),n.CharacterStream=i,n.TokenStream=c,n.regex=l,n.skip=s,n.optional=f,n.seq=v,n.precededByToken=g,n.map=m,n.or=d,n.repeat=y,n.concat=h,n.notFollowedBy=b,n.Lexer=_,n.Token=a},{}]},{},[16]);