!function e(t,n,r){function a(o,i){if(!n[o]){if(!t[o]){var c="function"==typeof require&&require;if(!i&&c)return c(o,!0);if(u)return u(o,!0);var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return a(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var u="function"==typeof require&&require,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var a=e("event-emitter"),u=r(a),o=(0,u["default"])({}),i=Game_Troop.prototype.onBattleEnd;Game_Troop.prototype.onBattleEnd=function(){o.emit("battle.end"),i.call(this)};var c=Game_Troop.prototype.onBattleStart;Game_Troop.prototype.onBattleStart=function(){o.emit("battle.start"),c.call(this)};var s=BattleManager.endTurn.bind(BattleManager);BattleManager.endTurn=function(){s(),o.emit("turn.end")};var l=BattleManager.startTurn.bind(BattleManager);BattleManager.startTurn=function(){l(),o.emit("turn.start")},n["default"]=o},{"event-emitter":5}],2:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t,n){return{type:e,token:t,pos:n}}function u(e,t){return{tokens:e,newCharacterStream:t}}function o(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return{buffer:e,pos:t,length:e.length-t,present:t<e.length,empty:t>=e.length,rest:function(){return e.slice(t)},get:function(){return e[t]},advance:function(){var n=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return o(e,t+n)},take:function(n){return e.slice(t,t+n)}}}function i(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return x({},o(e,t),{advance:function(){var n=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return i(e,t+n)},flush:function(){return i(e,e.length)},Token:function(e,n){return a(e,n,t)}})}function c(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return x({},o(e,t),{advance:function(){var n=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return c(e,t+n)},ofType:function(n){return t<e.length&&e[t].type===n}})}function s(e,t){var n=arguments.length<=2||void 0===arguments[2]?"":arguments[2],r=new RegExp(/^/.source+t.source,n);return function(t,n){var a;return(a=n.rest().match(r))?u([n.Token(e,a[0])],n.advance(a[0].length)):null}}function l(e){return function(t,n){var r;return(r=e(t,n))?u([],r.newCharacterStream):null}}function f(e){return function(t,n){var r;return(r=e(t,n))?u([],r.newCharacterStream):u([],n)}}function p(e,t){return function(n,a){var o=e(n,a);if(!o)return null;var i=t([].concat(r(n),r(o.tokens)),o.newCharacterStream);return i?u([].concat(r(o.tokens),r(i.tokens)),i.newCharacterStream):null}}function v(e,t,n){var r=p(e,t);if(n){for(var a=arguments.length,u=Array(a>3?a-3:0),o=3;a>o;o++)u[o-3]=arguments[o];return v.apply(void 0,[r,n].concat(u))}return r}function g(e){return function(t,n){var r=t[t.length-1];return r&&r.type==e?u([],n):null}}function m(e,t){return function(n,r){var o;if(o=t(n,r)){var i=o.tokens.map(function(t){var n=t.type,r=t.token,u=t.pos;return a(n,e(r),u)});return u(i,o.newCharacterStream)}return null}}function d(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e,n){for(var r,a=0;a<t.length;a++)if(r=t[a](e,n))return r;return null}}function y(e){return function(t,n){for(var a=[],o=0;n.present;){var i=e(a,n);if(!i)break;if(a=[].concat(r(a),r(i.tokens)),i.newCharacterStream.pos===n.pos)return u(a,i.newCharacterStream);if(o++>1e4)throw"tried to lex more than 10,000 tokens - this is probably a bug.";n=i.newCharacterStream}return u(a,n)}}function h(e,t){return function(n,r){var a=t(n,r);if(a){var o=a.tokens.map(function(e){return e.token}).join("");return u([r.Token(e,o)],a.newCharacterStream)}return null}}function b(e,t){return function(n,a){var u=e(n,a);if(!u)return null;var o=t([].concat(r(n),r(u.tokens)),u.newCharacterStream);return o?null:u}}function _(e){return function(t){var n=i(t),r=y(d(e,s("UNKNOWN",/[^]*/)));return r([],n).tokens}}var x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Object.defineProperty(n,"__esModule",{value:!0}),n.CharacterStream=i,n.TokenStream=c,n.regex=s,n.skip=l,n.optional=f,n.seq=v,n.precededByToken=g,n.map=m,n.or=d,n.repeat=y,n.concat=h,n.notFollowedBy=b,n.Lexer=_,n.Token=a},{}],3:[function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function u(e){for(var t,n,r,u={args:[]};t=o(e);){var i=t,c=b(i,2);if(n=c[0],r=c[1],"object"===("undefined"==typeof n?"undefined":a(n))){u=h({},u,n);var s=r.ofType("COMMA"),l=r.ofType("KEY")&&r.advance().ofType("KEYVALSEP");if(s)e=r.advance();else{if(!l)return[u,r];e=r}}else{if(u=h({},u,{args:u.args.concat(n)}),r.empty||"COMMA"!=r.get().type)return[u,r];e=r.advance()}}return[u,e]}function o(e){return i(e)||c(e)}function i(e){if(e.length<3)return null;if(!e.ofType("KEY")||!e.advance().ofType("KEYVALSEP"))return null;var t=c(e.advance(2));return t?[r({},e.get().token,t[0]),e.advance(3)]:null}function c(e){if(e.empty)return null;var t=e.get();switch(t.type){case"NUMBER":return[Number(t.token),e.advance()];case"BARESTRING":case"KEY":return[t.token,e.advance()];case"BOOLEAN":return["true"===t.token.toLowerCase()?!0:!1,e.advance()];default:return null}}function s(e){if(e.length<3)return null;if(!e.ofType("BRA"))return null;var t=u(e.advance());if(!t)return null;var n=b(t,2),r=n[0],a=n[1];return a.ofType("KET")?[r,a.advance()]:null}function l(e){if(e.length<3)return null;var t=e.advance();if(!e.ofType("BRA")||!t.ofType("IDENTIFIER"))return null;var n=u(e.advance(2));if(!n)return null;var r=b(n,2),a=r[0],o=r[1];return o.ofType("KET")?[h({},a,{type:t.get().token}),o.advance()]:null}function f(e){return s(e)||l(e)}function p(e){var t=f(e);return t?t[0]:null}function v(e){return p((0,_.TokenStream)(N(e)))}function g(e){for(var t=(0,_.TokenStream)(N(e)),n=[];t.present;){var r=f(t);r?(n.push(r[0]),t=r[1]):t=t.advance()}return n}function m(e){return function(t){for(var n=(0,_.TokenStream)(N(t));n.present;){var r=f(n);if(r&&e(r[0]))return r[0];n=n.advance()}return null}}function d(e,t){return m(function(e){return e.type===t})(e)}function y(e,t){return g(e).filter(function(e){return e.type===t})}var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b=function(){function e(e,t){var n=[],r=!0,a=!1,u=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){a=!0,u=c}finally{try{!r&&i["return"]&&i["return"]()}finally{if(a)throw u}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(n,"__esModule",{value:!0}),n.extractFirst=void 0,n.parse=v,n.extractAll=g,n.extractFirstOfType=d,n.extractAllOfType=y;var _=e("./LexerUtils"),x=(0,_.regex)("BRA",/</),O=(0,_.regex)("KET",/>/),T=(0,_.skip)((0,_.regex)("WHITESPACE",/\s+/)),w=(0,_.regex)("IDENTIFIER",/[a-zA-Z_][a-zA-Z0-9-_]*/),k=(0,_.regex)("KEY",/[a-zA-Z_][a-zA-Z0-9-_]*/),E=(0,_.regex)("KEYVALSEP",/:/),j=((0,_.seq)(k,(0,_.optional)(T),E),(0,_.regex)("SIGNIFICANT_WHITESPACE",/\s+/)),A=(0,_.regex)("BAREWORD",/[^,:><"\s]+/),S=(0,_.concat)("BARESTRING",(0,_.seq)(A,(0,_.repeat)((0,_.notFollowedBy)((0,_.seq)(j,A),(0,_.seq)((0,_.optional)(T),E))))),B=(0,_.regex)("COMMA",/,/),M=(0,_.regex)("NUMBER",/-?[0-9]+(\.[0-9]+)?/),C=(0,_.regex)("BOOLEAN",/(true|false)/,"i"),P=(0,_.map)(JSON.parse,(0,_.regex)("BARESTRING",/"([^"]|\\")*"/)),N=(0,_.Lexer)((0,_.or)(T,x,O,B,(0,_.seq)(k,(0,_.optional)(T),E),(0,_.seq)((0,_.precededByToken)("BRA"),(0,_.optional)(T),(0,_.notFollowedBy)(w,B)),E,M,C,P,S));n.extractFirst=m(function(){return!0})},{"./LexerUtils":2}],4:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}var u=e("./BattleObserver"),o=a(u),i=e("./OptionParser"),c=r(i),s={BattleObserver:o["default"],OptionParser:c};window.MRP=s},{"./BattleObserver":1,"./OptionParser":3}],5:[function(e,t,n){"use strict";var r,a,u,o,i,c,s,l=e("d"),f=e("es5-ext/object/valid-callable"),p=Function.prototype.apply,v=Function.prototype.call,g=Object.create,m=Object.defineProperty,d=Object.defineProperties,y=Object.prototype.hasOwnProperty,h={configurable:!0,enumerable:!1,writable:!0};r=function(e,t){var n;return f(t),y.call(this,"__ee__")?n=this.__ee__:(n=h.value=g(null),m(this,"__ee__",h),h.value=null),n[e]?"object"==typeof n[e]?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},a=function(e,t){var n,a;return f(t),a=this,r.call(this,e,n=function(){u.call(a,e,n),p.call(t,this,arguments)}),n.__eeOnceListener__=t,this},u=function(e,t){var n,r,a,u;if(f(t),!y.call(this,"__ee__"))return this;if(n=this.__ee__,!n[e])return this;if(r=n[e],"object"==typeof r)for(u=0;a=r[u];++u)(a===t||a.__eeOnceListener__===t)&&(2===r.length?n[e]=r[u?0:1]:r.splice(u,1));else(r===t||r.__eeOnceListener__===t)&&delete n[e];return this},o=function(e){var t,n,r,a,u;if(y.call(this,"__ee__")&&(a=this.__ee__[e]))if("object"==typeof a){for(n=arguments.length,u=new Array(n-1),t=1;n>t;++t)u[t-1]=arguments[t];for(a=a.slice(),t=0;r=a[t];++t)p.call(r,this,u)}else switch(arguments.length){case 1:v.call(a,this);break;case 2:v.call(a,this,arguments[1]);break;case 3:v.call(a,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,u=new Array(n-1),t=1;n>t;++t)u[t-1]=arguments[t];p.call(a,this,u)}},i={on:r,once:a,off:u,emit:o},c={on:l(r),once:l(a),off:l(u),emit:l(o)},s=d({},c),t.exports=n=function(e){return null==e?g(s):d(Object(e),c)},n.methods=i},{d:6,"es5-ext/object/valid-callable":15}],6:[function(e,t,n){"use strict";var r,a=e("es5-ext/object/assign"),u=e("es5-ext/object/normalize-options"),o=e("es5-ext/object/is-callable"),i=e("es5-ext/string/#/contains");r=t.exports=function(e,t){var n,r,o,c,s;return arguments.length<2||"string"!=typeof e?(c=t,t=e,e=null):c=arguments[2],null==e?(n=o=!0,r=!1):(n=i.call(e,"c"),r=i.call(e,"e"),o=i.call(e,"w")),s={value:t,configurable:n,enumerable:r,writable:o},c?a(u(c),s):s},r.gs=function(e,t,n){var r,c,s,l;return"string"!=typeof e?(s=n,n=t,t=e,e=null):s=arguments[3],null==t?t=void 0:o(t)?null==n?n=void 0:o(n)||(s=n,n=void 0):(s=t,t=n=void 0),null==e?(r=!0,c=!1):(r=i.call(e,"c"),c=i.call(e,"e")),l={get:t,set:n,configurable:r,enumerable:c},s?a(u(s),l):l}},{"es5-ext/object/assign":7,"es5-ext/object/is-callable":10,"es5-ext/object/normalize-options":14,"es5-ext/string/#/contains":17}],7:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?Object.assign:e("./shim")},{"./is-implemented":8,"./shim":9}],8:[function(e,t,n){"use strict";t.exports=function(){var e,t=Object.assign;return"function"!=typeof t?!1:(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},{}],9:[function(e,t,n){"use strict";var r=e("../keys"),a=e("../valid-value"),u=Math.max;t.exports=function(e,t){var n,o,i,c=u(arguments.length,2);for(e=Object(a(e)),i=function(r){try{e[r]=t[r]}catch(a){n||(n=a)}},o=1;c>o;++o)t=arguments[o],r(t).forEach(i);if(void 0!==n)throw n;return e}},{"../keys":11,"../valid-value":16}],10:[function(e,t,n){"use strict";t.exports=function(e){return"function"==typeof e}},{}],11:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?Object.keys:e("./shim")},{"./is-implemented":12,"./shim":13}],12:[function(e,t,n){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},{}],13:[function(e,t,n){"use strict";var r=Object.keys;t.exports=function(e){return r(null==e?e:Object(e))}},{}],14:[function(e,t,n){"use strict";var r=Array.prototype.forEach,a=Object.create,u=function(e,t){var n;for(n in e)t[n]=e[n]};t.exports=function(e){var t=a(null);return r.call(arguments,function(e){null!=e&&u(Object(e),t)}),t}},{}],15:[function(e,t,n){"use strict";t.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},{}],16:[function(e,t,n){"use strict";t.exports=function(e){if(null==e)throw new TypeError("Cannot use null or undefined");return e}},{}],17:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?String.prototype.contains:e("./shim")},{"./is-implemented":18,"./shim":19}],18:[function(e,t,n){"use strict";var r="razdwatrzy";t.exports=function(){return"function"!=typeof r.contains?!1:r.contains("dwa")===!0&&r.contains("foo")===!1}},{}],19:[function(e,t,n){"use strict";var r=String.prototype.indexOf;t.exports=function(e){return r.call(this,e,arguments[1])>-1}},{}]},{},[4]);