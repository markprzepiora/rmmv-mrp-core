!function e(t,r,n){function a(o,i){if(!r[o]){if(!t[o]){var c="function"==typeof require&&require;if(!i&&c)return c(o,!0);if(u)return u(o,!0);var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var l=r[o]={exports:{}};t[o][0].call(l.exports,function(e){var r=t[o][1][e];return a(r?r:e)},l,l.exports,e,t,r,n)}return r[o].exports}for(var u="function"==typeof require&&require,o=0;o<n.length;o++)a(n[o]);return a}({1:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a=e("event-emitter"),u=n(a),o=(0,u["default"])({}),i=Game_Troop.prototype.onBattleEnd;Game_Troop.prototype.onBattleEnd=function(){o.emit("battle.end"),i.call(this)};var c=Game_Troop.prototype.onBattleStart;Game_Troop.prototype.onBattleStart=function(){o.emit("battle.start"),c.call(this)};var s=BattleManager.endTurn.bind(BattleManager);BattleManager.endTurn=function(){s(),o.emit("turn.end")};var l=BattleManager.startTurn.bind(BattleManager);BattleManager.startTurn=function(){l(),o.emit("turn.start")},r["default"]=o,t.exports=r["default"]},{"event-emitter":5}],2:[function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e,t,r){return{type:e,token:t,pos:r}}function u(e,t){return{tokens:e,newCharacterStream:t}}function o(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return{buffer:e,pos:t,length:e.length-t,present:t<e.length,empty:t>=e.length,rest:function(){return e.slice(t)},get:function(){return e[t]},advance:function(){var r=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return o(e,t+r)},take:function(r){return e.slice(t,t+r)}}}function i(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return x({},o(e,t),{advance:function(){var r=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return i(e,t+r)},flush:function(){return i(e,e.length)},Token:function(e,r){return a(e,r,t)}})}function c(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return x({},o(e,t),{advance:function(){var r=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return c(e,t+r)},ofType:function(r){return t<e.length&&e[t].type===r}})}function s(e,t){var r=arguments.length<=2||void 0===arguments[2]?"":arguments[2],n=new RegExp(/^/.source+t.source,r);return function(t,r){var a;return(a=r.rest().match(n))?u([r.Token(e,a[0])],r.advance(a[0].length)):null}}function l(e){return function(t,r){var n;return(n=e(t,r))?u([],n.newCharacterStream):null}}function f(e){return function(t,r){var n;return(n=e(t,r))?u([],n.newCharacterStream):u([],r)}}function p(e,t){return function(r,a){var o=e(r,a);if(!o)return null;var i=t([].concat(n(r),n(o.tokens)),o.newCharacterStream);return i?u([].concat(n(o.tokens),n(i.tokens)),i.newCharacterStream):null}}function v(e,t,r){for(var n=arguments,a=!0;a;){var u=e,o=t,i=r;a=!1;var c=p(u,o);{if(!i)return c;for(var s=n.length,l=Array(s>3?s-3:0),f=3;s>f;f++)l[f-3]=n[f];n=[c,i].concat(l),e=n[0],t=n[1],r=n[2],a=!0,c=s=l=f=void 0}}}function g(e){return function(t,r){var n=t[t.length-1];return n&&n.type==e?u([],r):null}}function m(e,t){return function(r,n){var o;if(o=t(r,n)){var i=o.tokens.map(function(t){var r=t.type,n=t.token,u=t.pos;return a(r,e(n),u)});return u(i,o.newCharacterStream)}return null}}function h(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return function(e,r){for(var n,a=0;a<t.length;a++)if(n=t[a](e,r))return n;return null}}function d(e){return function(t,r){for(var a=[],o=0;r.present;){var i=e(a,r);if(!i)break;if(a=[].concat(n(a),n(i.tokens)),i.newCharacterStream.pos===r.pos)return u(a,i.newCharacterStream);if(o++>1e4)throw"tried to lex more than 10,000 tokens - this is probably a bug.";r=i.newCharacterStream}return u(a,r)}}function y(e,t){return function(r,n){var a=t(r,n);if(a){var o=a.tokens.map(function(e){return e.token}).join("");return u([n.Token(e,o)],a.newCharacterStream)}return null}}function b(e,t){return function(r,a){var u=e(r,a);if(!u)return null;var o=t([].concat(n(r),n(u.tokens)),u.newCharacterStream);return o?null:u}}function _(e){return function(t){var r=i(t),n=d(h(e,s("UNKNOWN",/[^]*/)));return n([],r).tokens}}Object.defineProperty(r,"__esModule",{value:!0});var x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};r.Token=a,r.CharacterStream=i,r.TokenStream=c,r.regex=s,r.skip=l,r.optional=f,r.seq=v,r.precededByToken=g,r.map=m,r.or=h,r.repeat=d,r.concat=y,r.notFollowedBy=b,r.Lexer=_},{}],3:[function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){for(var t,r,n,a={args:[]};t=u(e);){var o=t,i=d(o,2);if(r=i[0],n=i[1],"object"==typeof r){a=y({},a,r);var c=n.ofType("COMMA"),s=n.ofType("KEY")&&n.advance().ofType("KEYVALSEP");if(c)e=n.advance();else{if(!s)return[a,n];e=n}}else{if(a=y({},a,{args:a.args.concat(r)}),n.empty||"COMMA"!=n.get().type)return[a,n];e=n.advance()}}return[a,e]}function u(e){return o(e)||i(e)}function o(e){if(e.length<3)return null;if(!e.ofType("KEY")||!e.advance().ofType("KEYVALSEP"))return null;var t=i(e.advance(2));return t?[n({},e.get().token,t[0]),e.advance(3)]:null}function i(e){if(e.empty)return null;var t=e.get();switch(t.type){case"NUMBER":return[Number(t.token),e.advance()];case"BARESTRING":case"KEY":return[t.token,e.advance()];case"BOOLEAN":return["true"===t.token.toLowerCase()?!0:!1,e.advance()];default:return null}}function c(e){if(e.length<3)return null;if(!e.ofType("BRA"))return null;var t=a(e.advance());if(!t)return null;var r=d(t,2),n=r[0],u=r[1];return u.ofType("KET")?[n,u.advance()]:null}function s(e){if(e.length<3)return null;var t=e.advance();if(!e.ofType("BRA")||!t.ofType("IDENTIFIER"))return null;var r=a(e.advance(2));if(!r)return null;var n=d(r,2),u=n[0],o=n[1];return o.ofType("KET")?[y({},u,{type:t.get().token}),o.advance()]:null}function l(e){return c(e)||s(e)}function f(e){var t=l(e);return t?t[0]:null}function p(e){return f((0,b.TokenStream)(P(e)))}function v(e){for(var t=(0,b.TokenStream)(P(e)),r=[];t.present;){var n=l(t);n?(r.push(n[0]),t=n[1]):t=t.advance()}return r}function g(e){return function(t){for(var r=(0,b.TokenStream)(P(t));r.present;){var n=l(r);if(n&&e(n[0]))return n[0];r=r.advance()}return null}}function m(e,t){return g(function(e){return e.type===t})(e)}function h(e,t){return v(e).filter(function(e){return e.type===t})}Object.defineProperty(r,"__esModule",{value:!0});var d=function(){function e(e,t){var r=[],n=!0,a=!1,u=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(c){a=!0,u=c}finally{try{!n&&i["return"]&&i["return"]()}finally{if(a)throw u}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};r.parse=p,r.extractAll=v,r.extractFirstOfType=m,r.extractAllOfType=h;var b=e("./LexerUtils"),_=(0,b.regex)("BRA",/</),x=(0,b.regex)("KET",/>/),O=(0,b.skip)((0,b.regex)("WHITESPACE",/\s+/)),T=(0,b.regex)("IDENTIFIER",/[a-zA-Z_][a-zA-Z0-9-_]*/),w=(0,b.regex)("KEY",/[a-zA-Z_][a-zA-Z0-9-_]*/),k=(0,b.regex)("KEYVALSEP",/:/),E=((0,b.seq)(w,(0,b.optional)(O),k),(0,b.regex)("SIGNIFICANT_WHITESPACE",/\s+/)),j=(0,b.regex)("BAREWORD",/[^,:><"\s]+/),A=(0,b.concat)("BARESTRING",(0,b.seq)(j,(0,b.repeat)((0,b.notFollowedBy)((0,b.seq)(E,j),(0,b.seq)((0,b.optional)(O),k))))),S=(0,b.regex)("COMMA",/,/),B=(0,b.regex)("NUMBER",/-?[0-9]+(\.[0-9]+)?/),M=(0,b.regex)("BOOLEAN",/(true|false)/,"i"),C=(0,b.map)(JSON.parse,(0,b.regex)("BARESTRING",/"([^"]|\\")*"/)),P=(0,b.Lexer)((0,b.or)(O,_,x,S,(0,b.seq)(w,(0,b.optional)(O),k),(0,b.seq)((0,b.precededByToken)("BRA"),(0,b.optional)(O),(0,b.notFollowedBy)(T,S)),k,B,M,C,A)),N=g(function(){return!0});r.extractFirst=N},{"./LexerUtils":2}],4:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}var u=e("./BattleObserver"),o=a(u),i=e("./OptionParser"),c=n(i),s={BattleObserver:o["default"],OptionParser:c};window.MRP=s},{"./BattleObserver":1,"./OptionParser":3}],5:[function(e,t,r){"use strict";var n,a,u,o,i,c,s,l=e("d"),f=e("es5-ext/object/valid-callable"),p=Function.prototype.apply,v=Function.prototype.call,g=Object.create,m=Object.defineProperty,h=Object.defineProperties,d=Object.prototype.hasOwnProperty,y={configurable:!0,enumerable:!1,writable:!0};n=function(e,t){var r;return f(t),d.call(this,"__ee__")?r=this.__ee__:(r=y.value=g(null),m(this,"__ee__",y),y.value=null),r[e]?"object"==typeof r[e]?r[e].push(t):r[e]=[r[e],t]:r[e]=t,this},a=function(e,t){var r,a;return f(t),a=this,n.call(this,e,r=function(){u.call(a,e,r),p.call(t,this,arguments)}),r.__eeOnceListener__=t,this},u=function(e,t){var r,n,a,u;if(f(t),!d.call(this,"__ee__"))return this;if(r=this.__ee__,!r[e])return this;if(n=r[e],"object"==typeof n)for(u=0;a=n[u];++u)(a===t||a.__eeOnceListener__===t)&&(2===n.length?r[e]=n[u?0:1]:n.splice(u,1));else(n===t||n.__eeOnceListener__===t)&&delete r[e];return this},o=function(e){var t,r,n,a,u;if(d.call(this,"__ee__")&&(a=this.__ee__[e]))if("object"==typeof a){for(r=arguments.length,u=new Array(r-1),t=1;r>t;++t)u[t-1]=arguments[t];for(a=a.slice(),t=0;n=a[t];++t)p.call(n,this,u)}else switch(arguments.length){case 1:v.call(a,this);break;case 2:v.call(a,this,arguments[1]);break;case 3:v.call(a,this,arguments[1],arguments[2]);break;default:for(r=arguments.length,u=new Array(r-1),t=1;r>t;++t)u[t-1]=arguments[t];p.call(a,this,u)}},i={on:n,once:a,off:u,emit:o},c={on:l(n),once:l(a),off:l(u),emit:l(o)},s=h({},c),t.exports=r=function(e){return null==e?g(s):h(Object(e),c)},r.methods=i},{d:6,"es5-ext/object/valid-callable":15}],6:[function(e,t,r){"use strict";var n,a=e("es5-ext/object/assign"),u=e("es5-ext/object/normalize-options"),o=e("es5-ext/object/is-callable"),i=e("es5-ext/string/#/contains");n=t.exports=function(e,t){var r,n,o,c,s;return arguments.length<2||"string"!=typeof e?(c=t,t=e,e=null):c=arguments[2],null==e?(r=o=!0,n=!1):(r=i.call(e,"c"),n=i.call(e,"e"),o=i.call(e,"w")),s={value:t,configurable:r,enumerable:n,writable:o},c?a(u(c),s):s},n.gs=function(e,t,r){var n,c,s,l;return"string"!=typeof e?(s=r,r=t,t=e,e=null):s=arguments[3],null==t?t=void 0:o(t)?null==r?r=void 0:o(r)||(s=r,r=void 0):(s=t,t=r=void 0),null==e?(n=!0,c=!1):(n=i.call(e,"c"),c=i.call(e,"e")),l={get:t,set:r,configurable:n,enumerable:c},s?a(u(s),l):l}},{"es5-ext/object/assign":7,"es5-ext/object/is-callable":10,"es5-ext/object/normalize-options":14,"es5-ext/string/#/contains":17}],7:[function(e,t,r){"use strict";t.exports=e("./is-implemented")()?Object.assign:e("./shim")},{"./is-implemented":8,"./shim":9}],8:[function(e,t,r){"use strict";t.exports=function(){var e,t=Object.assign;return"function"!=typeof t?!1:(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},{}],9:[function(e,t,r){"use strict";var n=e("../keys"),a=e("../valid-value"),u=Math.max;t.exports=function(e,t){var r,o,i,c=u(arguments.length,2);for(e=Object(a(e)),i=function(n){try{e[n]=t[n]}catch(a){r||(r=a)}},o=1;c>o;++o)t=arguments[o],n(t).forEach(i);if(void 0!==r)throw r;return e}},{"../keys":11,"../valid-value":16}],10:[function(e,t,r){"use strict";t.exports=function(e){return"function"==typeof e}},{}],11:[function(e,t,r){"use strict";t.exports=e("./is-implemented")()?Object.keys:e("./shim")},{"./is-implemented":12,"./shim":13}],12:[function(e,t,r){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},{}],13:[function(e,t,r){"use strict";var n=Object.keys;t.exports=function(e){return n(null==e?e:Object(e))}},{}],14:[function(e,t,r){"use strict";var n=Array.prototype.forEach,a=Object.create,u=function(e,t){var r;for(r in e)t[r]=e[r]};t.exports=function(e){var t=a(null);return n.call(arguments,function(e){null!=e&&u(Object(e),t)}),t}},{}],15:[function(e,t,r){"use strict";t.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},{}],16:[function(e,t,r){"use strict";t.exports=function(e){if(null==e)throw new TypeError("Cannot use null or undefined");return e}},{}],17:[function(e,t,r){"use strict";t.exports=e("./is-implemented")()?String.prototype.contains:e("./shim")},{"./is-implemented":18,"./shim":19}],18:[function(e,t,r){"use strict";var n="razdwatrzy";t.exports=function(){return"function"!=typeof n.contains?!1:n.contains("dwa")===!0&&n.contains("foo")===!1}},{}],19:[function(e,t,r){"use strict";var n=String.prototype.indexOf;t.exports=function(e){return n.call(this,e,arguments[1])>-1}},{}]},{},[4]);