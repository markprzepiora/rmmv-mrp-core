!function e(t,r,n){function a(u,i){if(!r[u]){if(!t[u]){var c="function"==typeof require&&require;if(!i&&c)return c(u,!0);if(o)return o(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var s=r[u]={exports:{}};t[u][0].call(s.exports,function(e){var r=t[u][1][e];return a(r?r:e)},s,s.exports,e,t,r,n)}return r[u].exports}for(var o="function"==typeof require&&require,u=0;u<n.length;u++)a(n[u]);return a}({1:[function(e,t,r){"use strict";var n,a,o,u,i,c,l,s=e("d"),f=e("es5-ext/object/valid-callable"),p=Function.prototype.apply,v=Function.prototype.call,g=Object.create,m=Object.defineProperty,d=Object.defineProperties,y=Object.prototype.hasOwnProperty,h={configurable:!0,enumerable:!1,writable:!0};n=function(e,t){var r;return f(t),y.call(this,"__ee__")?r=this.__ee__:(r=h.value=g(null),m(this,"__ee__",h),h.value=null),r[e]?"object"==typeof r[e]?r[e].push(t):r[e]=[r[e],t]:r[e]=t,this},a=function(e,t){var r,a;return f(t),a=this,n.call(this,e,r=function(){o.call(a,e,r),p.call(t,this,arguments)}),r.__eeOnceListener__=t,this},o=function(e,t){var r,n,a,o;if(f(t),!y.call(this,"__ee__"))return this;if(r=this.__ee__,!r[e])return this;if(n=r[e],"object"==typeof n)for(o=0;a=n[o];++o)(a===t||a.__eeOnceListener__===t)&&(2===n.length?r[e]=n[o?0:1]:n.splice(o,1));else(n===t||n.__eeOnceListener__===t)&&delete r[e];return this},u=function(e){var t,r,n,a,o;if(y.call(this,"__ee__")&&(a=this.__ee__[e]))if("object"==typeof a){for(r=arguments.length,o=new Array(r-1),t=1;r>t;++t)o[t-1]=arguments[t];for(a=a.slice(),t=0;n=a[t];++t)p.call(n,this,o)}else switch(arguments.length){case 1:v.call(a,this);break;case 2:v.call(a,this,arguments[1]);break;case 3:v.call(a,this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),t=1;r>t;++t)o[t-1]=arguments[t];p.call(a,this,o)}},i={on:n,once:a,off:o,emit:u},c={on:s(n),once:s(a),off:s(o),emit:s(u)},l=d({},c),t.exports=r=function(e){return null==e?g(l):d(Object(e),c)},r.methods=i},{d:2,"es5-ext/object/valid-callable":11}],2:[function(e,t,r){"use strict";var n,a=e("es5-ext/object/assign"),o=e("es5-ext/object/normalize-options"),u=e("es5-ext/object/is-callable"),i=e("es5-ext/string/#/contains");n=t.exports=function(e,t){var r,n,u,c,l;return arguments.length<2||"string"!=typeof e?(c=t,t=e,e=null):c=arguments[2],null==e?(r=u=!0,n=!1):(r=i.call(e,"c"),n=i.call(e,"e"),u=i.call(e,"w")),l={value:t,configurable:r,enumerable:n,writable:u},c?a(o(c),l):l},n.gs=function(e,t,r){var n,c,l,s;return"string"!=typeof e?(l=r,r=t,t=e,e=null):l=arguments[3],null==t?t=void 0:u(t)?null==r?r=void 0:u(r)||(l=r,r=void 0):(l=t,t=r=void 0),null==e?(n=!0,c=!1):(n=i.call(e,"c"),c=i.call(e,"e")),s={get:t,set:r,configurable:n,enumerable:c},l?a(o(l),s):s}},{"es5-ext/object/assign":3,"es5-ext/object/is-callable":6,"es5-ext/object/normalize-options":10,"es5-ext/string/#/contains":13}],3:[function(e,t,r){"use strict";t.exports=e("./is-implemented")()?Object.assign:e("./shim")},{"./is-implemented":4,"./shim":5}],4:[function(e,t,r){"use strict";t.exports=function(){var e,t=Object.assign;return"function"!=typeof t?!1:(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},{}],5:[function(e,t,r){"use strict";var n=e("../keys"),a=e("../valid-value"),o=Math.max;t.exports=function(e,t){var r,u,i,c=o(arguments.length,2);for(e=Object(a(e)),i=function(n){try{e[n]=t[n]}catch(a){r||(r=a)}},u=1;c>u;++u)t=arguments[u],n(t).forEach(i);if(void 0!==r)throw r;return e}},{"../keys":7,"../valid-value":12}],6:[function(e,t,r){"use strict";t.exports=function(e){return"function"==typeof e}},{}],7:[function(e,t,r){"use strict";t.exports=e("./is-implemented")()?Object.keys:e("./shim")},{"./is-implemented":8,"./shim":9}],8:[function(e,t,r){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},{}],9:[function(e,t,r){"use strict";var n=Object.keys;t.exports=function(e){return n(null==e?e:Object(e))}},{}],10:[function(e,t,r){"use strict";var n=Array.prototype.forEach,a=Object.create,o=function(e,t){var r;for(r in e)t[r]=e[r]};t.exports=function(e){var t=a(null);return n.call(arguments,function(e){null!=e&&o(Object(e),t)}),t}},{}],11:[function(e,t,r){"use strict";t.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},{}],12:[function(e,t,r){"use strict";t.exports=function(e){if(null==e)throw new TypeError("Cannot use null or undefined");return e}},{}],13:[function(e,t,r){"use strict";t.exports=e("./is-implemented")()?String.prototype.contains:e("./shim")},{"./is-implemented":14,"./shim":15}],14:[function(e,t,r){"use strict";var n="razdwatrzy";t.exports=function(){return"function"!=typeof n.contains?!1:n.contains("dwa")===!0&&n.contains("foo")===!1}},{}],15:[function(e,t,r){"use strict";var n=String.prototype.indexOf;t.exports=function(e){return n.call(this,e,arguments[1])>-1}},{}],16:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}var a=e("./module/index"),o=n(a);window.MRP=o},{"./module/index":18}],17:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a=e("event-emitter"),o=n(a),u=(0,o["default"])({}),i=Game_Troop.prototype.onBattleEnd;Game_Troop.prototype.onBattleEnd=function(){u.emit("battle.end"),i.call(this)};var c=Game_Troop.prototype.onBattleStart;Game_Troop.prototype.onBattleStart=function(){u.emit("battle.start"),c.call(this)};var l=BattleManager.endTurn.bind(BattleManager);BattleManager.endTurn=function(){l(),u.emit("turn.end")};var s=BattleManager.startTurn.bind(BattleManager);BattleManager.startTurn=function(){s(),u.emit("turn.start")},r["default"]=u},{"event-emitter":1}],18:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0}),r.OptionParser=r.BattleObserver=void 0;var o=e("./battle-observer"),u=a(o),i=e("./option-parser"),c=n(i);r.BattleObserver=u["default"],r.OptionParser=c},{"./battle-observer":17,"./option-parser":19}],19:[function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function o(e){for(var t,r,n,o={args:[]};t=u(e);){var i=t,c=b(i,2);if(r=c[0],n=c[1],"object"===("undefined"==typeof r?"undefined":a(r))){o=h({},o,r);var l=n.ofType("COMMA"),s=n.ofType("KEY")&&n.advance().ofType("KEYVALSEP");if(l)e=n.advance();else{if(!s)return[o,n];e=n}}else{if(o=h({},o,{args:o.args.concat(r)}),n.empty||"COMMA"!=n.get().type)return[o,n];e=n.advance()}}return[o,e]}function u(e){return i(e)||c(e)}function i(e){if(e.length<3)return null;if(!e.ofType("KEY")||!e.advance().ofType("KEYVALSEP"))return null;var t=c(e.advance(2));return t?[n({},e.get().token,t[0]),e.advance(3)]:null}function c(e){if(e.empty)return null;var t=e.get();switch(t.type){case"NUMBER":return[Number(t.token),e.advance()];case"BARESTRING":case"KEY":return[t.token,e.advance()];case"BOOLEAN":return["true"===t.token.toLowerCase()?!0:!1,e.advance()];default:return null}}function l(e){if(e.length<3)return null;if(!e.ofType("BRA"))return null;var t=o(e.advance());if(!t)return null;var r=b(t,2),n=r[0],a=r[1];return a.ofType("KET")?[n,a.advance()]:null}function s(e){if(e.length<3)return null;var t=e.advance();if(!e.ofType("BRA")||!t.ofType("IDENTIFIER"))return null;var r=o(e.advance(2));if(!r)return null;var n=b(r,2),a=n[0],u=n[1];return u.ofType("KET")?[h({},a,{type:t.get().token}),u.advance()]:null}function f(e){return l(e)||s(e)}function p(e){var t=f(e);return t?t[0]:null}function v(e){return p((0,_.TokenStream)(N(e)))}function g(e){for(var t=(0,_.TokenStream)(N(e)),r=[];t.present;){var n=f(t);n?(r.push(n[0]),t=n[1]):t=t.advance()}return r}function m(e){return function(t){for(var r=(0,_.TokenStream)(N(t));r.present;){var n=f(r);if(n&&e(n[0]))return n[0];r=r.advance()}return null}}function d(e,t){return m(function(e){return e.type===t})(e)}function y(e,t){return g(e).filter(function(e){return e.type===t})}var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b=function(){function e(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var u,i=e[Symbol.iterator]();!(n=(u=i.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(c){a=!0,o=c}finally{try{!n&&i["return"]&&i["return"]()}finally{if(a)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(r,"__esModule",{value:!0}),r.extractFirst=void 0,r.parse=v,r.extractAll=g,r.extractFirstOfType=d,r.extractAllOfType=y;var _=e("./lexer-utils"),x=(0,_.regex)("BRA",/</),O=(0,_.regex)("KET",/>/),w=(0,_.skip)((0,_.regex)("WHITESPACE",/\s+/)),T=(0,_.regex)("IDENTIFIER",/[a-zA-Z_][a-zA-Z0-9-_]*/),k=(0,_.regex)("KEY",/[a-zA-Z_][a-zA-Z0-9-_]*/),j=(0,_.regex)("KEYVALSEP",/:/),E=((0,_.seq)(k,(0,_.optional)(w),j),(0,_.regex)("SIGNIFICANT_WHITESPACE",/\s+/)),A=(0,_.regex)("BAREWORD",/[^,:><"\s]+/),S=(0,_.concat)("BARESTRING",(0,_.seq)(A,(0,_.repeat)((0,_.notFollowedBy)((0,_.seq)(E,A),(0,_.seq)((0,_.optional)(w),j))))),B=(0,_.regex)("COMMA",/,/),M=(0,_.regex)("NUMBER",/-?[0-9]+(\.[0-9]+)?/),C=(0,_.regex)("BOOLEAN",/(true|false)/,"i"),P=(0,_.map)(JSON.parse,(0,_.regex)("BARESTRING",/"([^"]|\\")*"/)),N=(0,_.Lexer)((0,_.or)(w,x,O,B,(0,_.seq)(k,(0,_.optional)(w),j),(0,_.seq)((0,_.precededByToken)("BRA"),(0,_.optional)(w),(0,_.notFollowedBy)(T,B)),j,M,C,P,S));r.extractFirst=m(function(){return!0})},{"./lexer-utils":20}],20:[function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e,t,r){return{type:e,token:t,pos:r}}function o(e,t){return{tokens:e,newCharacterStream:t}}function u(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return{buffer:e,pos:t,length:e.length-t,present:t<e.length,empty:t>=e.length,rest:function(){return e.slice(t)},get:function(){return e[t]},advance:function(){var r=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return u(e,t+r)},take:function(r){return e.slice(t,t+r)}}}function i(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return x({},u(e,t),{advance:function(){var r=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return i(e,t+r)},flush:function(){return i(e,e.length)},Token:function(e,r){return a(e,r,t)}})}function c(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return x({},u(e,t),{advance:function(){var r=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return c(e,t+r)},ofType:function(r){return t<e.length&&e[t].type===r}})}function l(e,t){var r=arguments.length<=2||void 0===arguments[2]?"":arguments[2],n=new RegExp(/^/.source+t.source,r);return function(t,r){var a;return(a=r.rest().match(n))?o([r.Token(e,a[0])],r.advance(a[0].length)):null}}function s(e){return function(t,r){var n;return(n=e(t,r))?o([],n.newCharacterStream):null}}function f(e){return function(t,r){var n;return(n=e(t,r))?o([],n.newCharacterStream):o([],r)}}function p(e,t){return function(r,a){var u=e(r,a);if(!u)return null;var i=t([].concat(n(r),n(u.tokens)),u.newCharacterStream);return i?o([].concat(n(u.tokens),n(i.tokens)),i.newCharacterStream):null}}function v(e,t,r){var n=p(e,t);if(r){for(var a=arguments.length,o=Array(a>3?a-3:0),u=3;a>u;u++)o[u-3]=arguments[u];return v.apply(void 0,[n,r].concat(o))}return n}function g(e){return function(t,r){var n=t[t.length-1];return n&&n.type==e?o([],r):null}}function m(e,t){return function(r,n){var u;if(u=t(r,n)){var i=u.tokens.map(function(t){var r=t.type,n=t.token,o=t.pos;return a(r,e(n),o)});return o(i,u.newCharacterStream)}return null}}function d(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return function(e,r){for(var n,a=0;a<t.length;a++)if(n=t[a](e,r))return n;return null}}function y(e){return function(t,r){for(var a=[],u=0;r.present;){var i=e(a,r);if(!i)break;if(a=[].concat(n(a),n(i.tokens)),i.newCharacterStream.pos===r.pos)return o(a,i.newCharacterStream);if(u++>1e4)throw"tried to lex more than 10,000 tokens - this is probably a bug.";r=i.newCharacterStream}return o(a,r)}}function h(e,t){return function(r,n){var a=t(r,n);if(a){var u=a.tokens.map(function(e){return e.token}).join("");return o([n.Token(e,u)],a.newCharacterStream)}return null}}function b(e,t){return function(r,a){var o=e(r,a);if(!o)return null;var u=t([].concat(n(r),n(o.tokens)),o.newCharacterStream);return u?null:o}}function _(e){return function(t){var r=i(t),n=y(d(e,l("UNKNOWN",/[^]*/)));return n([],r).tokens}}var x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};Object.defineProperty(r,"__esModule",{value:!0}),r.CharacterStream=i,r.TokenStream=c,r.regex=l,r.skip=s,r.optional=f,r.seq=v,r.precededByToken=g,r.map=m,r.or=d,r.repeat=y,r.concat=h,r.notFollowedBy=b,r.Lexer=_,r.Token=a},{}]},{},[16]);